<!DOCTYPE html>
<html>
    <head>
        <title>Bread Buddy</title>
        <link rel="stylesheet" href="static/style.css">
        <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&display=swap" rel="stylesheet">

    </head>
    <body>
        <header>
            <h1>Bread Buddy</h1>
            <p>Bake by numbers</p>
        </header>

        <main>
            <div class="calculator-container">
                <form action="" method="POST">
                    <div class="form-group">
                        <label for="flour_weight">Flour weight (grams):</label>
                        <input type="number" id="flour_weight" name="flour_weight"
                            value="1000" required min ="1" step = "1">
                    </div>

                    <div class="form-group">
                        <label for="water_ratio">Water (%):</label>
                        <input type="number" id="water_ratio" name="water_ratio"
                            value="70" required min="1" step="0.1">
                    </div>

                    <div class="form-group">
                        <label for="salt_ratio">Salt(%):</label>
                        <input type="number" id="salt_ratio" name="salt_ratio"
                            value="2" required min ="0" step="0.1">
                    </div>

                    <div class="form-group">
                        <label for="levain_ratio">Levain (%):</label>
                        <input type="number" id="levain_ratio" name="levain_ratio" value="20" step="0.1">
                    </div>

                    <button type="submit">Calculate</button>

                    {% if error %}
                    <div class="error">
                        <h3>Error:</h3>
                        <p>{{ error }}</p>
                    </div>
                    {% endif%}

                    {% if result %}
                    <div class="results">
                        <h2>Your Recipe:</h2>
                        <table>
                            <tr>
                                <th>Ingreident</th>
                                <th>Weight (g)</th>
                            </tr>
                            {% for ingredient, weight in result.items() %}
                                {% if ingredient != 'total_weight' %}
                                <tr>
                                    <td>{{ ingredient.replace('_', ' ').title() }}</td>
                                    <td>{{ weight }}</td>
                                </tr>
                                {% endif%}
                            {% endfor %}
                            <tr class="total">
                                <td><strong>Total Dough Weight:</strong></td>
                                <td><strong>{{ result.total_weight }} g</strong></td>
                            </tr>
                        </table>
                    </div>
                    {% endif %}
                </form>
            </div>
        </main>
    </body>
</html>